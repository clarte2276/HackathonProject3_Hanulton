{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./Mypage.css';import{useNavigate}from'react-router-dom';import useUserData from'../useUserData';import mypageUser from'../images/mypageuser.png';import axios from'axios';import BasicNavbar from'../Navbar/BasicNavbar';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Mypage(){const navigate=useNavigate();const{name,nickname,birth,id,password,store,setName,setNickname,setBirth,setId,setPassword,setStore,handleSave,fetchUserData}=useUserData();useEffect(()=>{// useUserData.js에서 제공하는 fetchUserData를 호출하여 초기 데이터를 불러옴\nfetchUserData();},[]);const handleLogout=async()=>{try{const response=await axios.post('/process/logout',{},{headers:{'Content-Type':'application/json'}});if(response.status===200){alert('로그아웃 되었습니다.');navigate('/');// 로그아웃 후 메인 페이지로 이동하기\n}else{throw new Error('로그아웃에 실패했습니다. 다시 시도해주세요.');}}catch(error){console.error('로그아웃 도중 오류 발생:',error);alert('로그아웃 도중 오류가 발생했습니다.');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"myPageAll\",children:[/*#__PURE__*/_jsx(BasicNavbar,{title:\"Mypage\"}),/*#__PURE__*/_jsx(\"div\",{className:\"myPage\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"userProfileForm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"userProfile\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"mypageImg\",src:mypageUser,alt:\"\\uD504\\uB85C\\uD544 \\uC774\\uBBF8\\uC9C0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"userProfileText\",children:[/*#__PURE__*/_jsx(\"p\",{children:store}),/*#__PURE__*/_jsx(\"p\",{children:nickname})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"centered\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"editBtn\",onClick:()=>navigate('/mypage/edit'),children:\"\\uD504\\uB85C\\uD544 \\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"button\",{className:\"logoutBtn\",onClick:handleLogout,children:\"\\uB85C\\uADF8\\uC544\\uC6C3\"})]})]})})]});}export default Mypage;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useUserData","mypageUser","axios","BasicNavbar","jsx","_jsx","jsxs","_jsxs","Mypage","navigate","name","nickname","birth","id","password","store","setName","setNickname","setBirth","setId","setPassword","setStore","handleSave","fetchUserData","handleLogout","response","post","headers","status","alert","Error","error","console","className","children","title","src","alt","onClick"],"sources":["C:/Users/atwod/OneDrive/바탕 화면/동국대 폴더/백엔드 공부/HackathonProject3_Hanulton/front-end/src/components/mypage/Mypage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './Mypage.css';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport useUserData from '../useUserData';\r\nimport mypageUser from '../images/mypageuser.png';\r\nimport axios from 'axios';\r\nimport BasicNavbar from '../Navbar/BasicNavbar';\r\n\r\nfunction Mypage() {\r\n  const navigate = useNavigate();\r\n  const {\r\n    name,\r\n    nickname,\r\n    birth,\r\n    id,\r\n    password,\r\n    store,\r\n    setName,\r\n    setNickname,\r\n    setBirth,\r\n    setId,\r\n    setPassword,\r\n    setStore,\r\n    handleSave,\r\n    fetchUserData,\r\n  } = useUserData();\r\n\r\n  useEffect(() => {\r\n    // useUserData.js에서 제공하는 fetchUserData를 호출하여 초기 데이터를 불러옴\r\n    fetchUserData();\r\n  }, []);\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      const response = await axios.post(\r\n        '/process/logout',\r\n        {},\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n        }\r\n      );\r\n\r\n      if (response.status === 200) {\r\n        alert('로그아웃 되었습니다.');\r\n        navigate('/'); // 로그아웃 후 메인 페이지로 이동하기\r\n      } else {\r\n        throw new Error('로그아웃에 실패했습니다. 다시 시도해주세요.');\r\n      }\r\n    } catch (error) {\r\n      console.error('로그아웃 도중 오류 발생:', error);\r\n      alert('로그아웃 도중 오류가 발생했습니다.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"myPageAll\">\r\n      <BasicNavbar title=\"Mypage\"></BasicNavbar>\r\n      <div className=\"myPage\">\r\n        <form className=\"userProfileForm\">\r\n          <div className=\"userProfile\">\r\n            <img className=\"mypageImg\" src={mypageUser} alt=\"프로필 이미지\"></img>\r\n            <div className=\"userProfileText\">\r\n              <p>{store}</p>\r\n              <p>{nickname}</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"centered\">\r\n            <button className=\"editBtn\" onClick={() => navigate('/mypage/edit')}>\r\n              프로필 수정\r\n            </button>\r\n            <button className=\"logoutBtn\" onClick={handleLogout}>\r\n              로그아웃\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Mypage;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,cAAc,CACrB,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,WAAW,KAAM,gBAAgB,CACxC,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,WAAW,KAAM,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhD,QAAS,CAAAC,MAAMA,CAAA,CAAG,CAChB,KAAM,CAAAC,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAC9B,KAAM,CACJW,IAAI,CACJC,QAAQ,CACRC,KAAK,CACLC,EAAE,CACFC,QAAQ,CACRC,KAAK,CACLC,OAAO,CACPC,WAAW,CACXC,QAAQ,CACRC,KAAK,CACLC,WAAW,CACXC,QAAQ,CACRC,UAAU,CACVC,aACF,CAAC,CAAGvB,WAAW,CAAC,CAAC,CAEjBF,SAAS,CAAC,IAAM,CACd;AACAyB,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAvB,KAAK,CAACwB,IAAI,CAC/B,iBAAiB,CACjB,CAAC,CAAC,CACF,CACEC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CACF,CAAC,CAED,GAAIF,QAAQ,CAACG,MAAM,GAAK,GAAG,CAAE,CAC3BC,KAAK,CAAC,aAAa,CAAC,CACpBpB,QAAQ,CAAC,GAAG,CAAC,CAAE;AACjB,CAAC,IAAM,CACL,KAAM,IAAI,CAAAqB,KAAK,CAAC,0BAA0B,CAAC,CAC7C,CACF,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,CAAEA,KAAK,CAAC,CACtCF,KAAK,CAAC,qBAAqB,CAAC,CAC9B,CACF,CAAC,CAED,mBACEtB,KAAA,QAAK0B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB7B,IAAA,CAACF,WAAW,EAACgC,KAAK,CAAC,QAAQ,CAAc,CAAC,cAC1C9B,IAAA,QAAK4B,SAAS,CAAC,QAAQ,CAAAC,QAAA,cACrB3B,KAAA,SAAM0B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC/B3B,KAAA,QAAK0B,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B7B,IAAA,QAAK4B,SAAS,CAAC,WAAW,CAACG,GAAG,CAAEnC,UAAW,CAACoC,GAAG,CAAC,uCAAS,CAAM,CAAC,cAChE9B,KAAA,QAAK0B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B7B,IAAA,MAAA6B,QAAA,CAAInB,KAAK,CAAI,CAAC,cACdV,IAAA,MAAA6B,QAAA,CAAIvB,QAAQ,CAAI,CAAC,EACd,CAAC,EACH,CAAC,cACNJ,KAAA,QAAK0B,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvB7B,IAAA,WAAQ4B,SAAS,CAAC,SAAS,CAACK,OAAO,CAAEA,CAAA,GAAM7B,QAAQ,CAAC,cAAc,CAAE,CAAAyB,QAAA,CAAC,iCAErE,CAAQ,CAAC,cACT7B,IAAA,WAAQ4B,SAAS,CAAC,WAAW,CAACK,OAAO,CAAEd,YAAa,CAAAU,QAAA,CAAC,0BAErD,CAAQ,CAAC,EACN,CAAC,EACF,CAAC,CACJ,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAA1B,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}